export RPC_URL=${RPC_URL:-"http://127.0.0.1:8545"}
export PRIVATE_KEY=${PRIVATE_KEY:-"0x0000000000000000000000000000000000000000000000000000000000000000"}
export ETHERSCAN_API_KEY=${ETHERSCAN_API_KEY:-"0000000000000000000000000000000000000000000000000000000000000000"}
export FERMAH_ADDRESS=${FERMAH_ADDRESS:-"0x0000000000000000000000000000000000000001"}
export LAGRANGE_ADDRESS=${LAGRANGE_ADDRESS:-"0x0000000000000000000000000000000000000001"}
export USDC_ADDRESS=${USDC_ADDRESS:-"0x0000000000000000000000000000000000000001"}
export PROOF_MANAGER_OWNER_ADDRESS=${PROOF_MANAGER_OWNER_ADDRESS:-"0x0000000000000000000000000000000000000001"}
export PROXY_OWNER_ADDRESS=${PROXY_OWNER_ADDRESS:-"0x0000000000000000000000000000000000000001"}

forge build

export GAS_PRICE=$(cast gas-price --rpc-url $RPC_URL)

echo "Gas price for deployment: $GAS_PRICE wei"

echo "RPC_URL: $RPC_URL"
echo "PRIVATE_KEY: $PRIVATE_KEY"
echo "ETHERSCAN_API_KEY: $ETHERSCAN_API_KEY"
echo "FERMAH_ADDRESS: $FERMAH_ADDRESS"
echo "LAGRANGE_ADDRESS: $LAGRANGE_ADDRESS"
echo "USDC_ADDRESS: $USDC_ADDRESS"
echo "PROOF_MANAGER_OWNER_ADDRESS: $PROOF_MANAGER_OWNER_ADDRESS"
echo "PROXY_OWNER_ADDRESS: $PROXY_OWNER_ADDRESS"

forge script scripts/deployment/DeployProofManagerV1.s.sol \
    --broadcast \
    --rpc-url $RPC_URL \
    --private-key $PRIVATE_KEY \
    --with-gas-price $GAS_PRICE \
    -vvvv
